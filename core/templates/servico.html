{% load static %}

<section class="site-section border-bottom bg-light" id="services-section">
  <div class="container">
    <div class="row mb-5">
      <div class="col-12 text-center">
        <h3 class="section-sub-title">Serviços</h3>
        <h2 class="section-title mb-3">Nossos Serviços</h2>
      </div>
    </div>
    <div class="row align-items-stretch">

  {% for s in servico %}

  <div class="col-md-6 col-lg-4 mb-4 mb-lg-4" data-aos="fade-up">
    <div class="unit-4 d-flex">

      <!-- Ícone dinâmico -->
      <div class="unit-4-icon mr-4">
        <i class="bi {{ s.icone }} text-primary"></i>
      </div>

      <div>
        <h3>{{ s.titulo }}</h3>
        <p>{{ s.descricao_curta }}</p>

        <p>
          <a href="#"
             data-bs-toggle="modal"
             data-bs-target="#modalServico"
             data-titulo="{{ s.titulo }}"
             data-descricao="{{ s.descricao_longa }}">
            Saiba Mais
          </a>
        </p>
      </div>

    </div>
  </div>

  {% endfor %}

</div>


<!-- ==================== POP-UP (MODAL) ==================== -->
<div class="modal fade" id="modalServico" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold" id="tituloModal"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body pt-2" id="descricaoModal"></div>
      <div class="modal-footer border-0">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('modalServico').addEventListener('show.bs.modal', function (e) {
    const link = e.relatedTarget;
    const titulo = link.getAttribute('data-titulo');
    const descricao = link.getAttribute('data-descricao');
    this.querySelector('#tituloModal').textContent = titulo;
    this.querySelector('#descricaoModal').textContent = descricao;
  });
</script>
